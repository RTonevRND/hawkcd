<h3 class="page-title"> Artifacts</h3>
<div class="portlet light">
    <div class="portlet-title right">
        <div class="caption ng-binding">
            <i class="fa fa-cogs"></i>Artifacts
        </div>
    </div>
    <div class="portlet-body">
        <div class="row">
            <div class="input-group input-group-lg add-on custom-search-artifact">
                <input type="text" class="form-control search-query custom-line-height" style="width:30%" ng-model="artifact.query" ng-change="artifact.search()" ng-pattern="/^([\w-]+)$/" placeholder="Search">
            </div>
        </div>
        <div id="runs-container-small" ng-repeat="pipeline in artifact.filteredItems">
            <div class="mt-element-list">
                <div class="mt-list-container list-simple ext-1 group">
                    <a class="list-toggle-container" data-toggle="collapse" data-target="#list{{$index}}" aria-expanded="false">
                        <div id="artifact-header-container" class="list-toggle done">
                            <div id="artifact-main-header" ng-class="{'status-passed' : pipeline.status == 'PASSED', 'status-failed' : pipeline.status == 'FAILED', 'status-working' : pipeline.status == 'IN_PROGRESS', 'status-canceled' : pipeline.status == 'CANCELED','vertical-center' : true}">
                                <div id="left-container" class="vertical-center center-cell">
                                    <div class="break-word">
                                        #{{pipeline.executionId}} {{pipeline.pipelineDefinitionName.substring(0,22)}} <span ng-if="pipeline.pipelineDefinitionName.length > 22">..</span>
                                    </div>
                                </div>
                                <div id="middle-container" class="text-center">
                                  <div class="center-cell vertical-center">
                                    <div ng-repeat="material in pipeline.materials">
                                        <i class="fa fa-gg"></i>
                                        <a target="_blank" href="{{material.gitLink}}" ng-click="artifact.goToGitLink(material.gitLink)" class="green-jungle">
                                            <span>{{material.materialDefinition.commitId.substring(0,6)}}</span></a>
                                        <span> {{material.materialDefinition.comments}}</span>
                                    </div>
                                  </div>
                                </div>
                                <div id="right-container" class="pull-right">
                                    <div class="user-info-cell vertical-center">
                                      <div class="">
                                            <div class="break-word"><i class="fa fa-user fa-1x"></i> {{pipeline.materials[0].materialDefinition.authorName}}</div>
                                        </div>
                                        <div class="display-inline vertical-center">
                                            <div class="display-inline break-word" ng-model="pipeline.lastPipelineAction.output"><i class="fa fa-calendar fa-1x"></i><span ng-if="pipeline.lastStage.localEndTime != null">  {{pipeline.lastStage.localEndTime.hour.toLocaleString('en-US', {minimumIntegerDigits: 2, useGrouping:false})}}:{{pipeline.lastStage.localEndTime.minute.toLocaleString('en-US', {minimumIntegerDigits: 2, useGrouping:false})}}:{{pipeline.lastStage.localEndTime.second.toLocaleString('en-US', {minimumIntegerDigits: 2, useGrouping:false})}} on {{pipeline.lastStage.localEndDate.date}}/{{pipeline.lastRun.lastStage.localEndDate.months}}/{{pipeline.lastStage.localEndDate.years}}</div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </a>
                    <div class="panel-collapse collapse" id="list{{$index}}" aria-expanded="false">
                      <div id="jstree" js-tree="treeConfig" ng-model="pipeline.artifactsFileStructure[0].children" should-apply="ignoreModelChanges()" tree="treeInstance" tree-events-obj="treeEventsObj">
                      </div>
                    </div>
                </div>
            </div>
            <br/>
        </div>

    </div>
</div>
