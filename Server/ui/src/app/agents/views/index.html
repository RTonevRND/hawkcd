<h3 class="page-title"> Agents Management
  <small>agents &amp; statistics</small>
</h3>
<div class="page-bar">
  <ul class="page-breadcrumb">
    <li>
      <i class="icon-home"></i>
      <a ui-sref="index.agents"> <span>{{agents.defaultText.breadCrumb}}</span></a>
    </li>
  </ul>
</div>

<div class="row">
  <div class="col-md-12">
    <div class="portlet box green">
      <div class="portlet-title right">
        <div class="caption">
          <i class="fa fa-cogs"></i>{{agents.defaultText.agents}}
        </div>
        <div class="tools right">
          <a href="javascript:;" class="collapse"> </a>
        </div>
      </div>
      <div class="portlet-body">

        <table class="table table-striped table-bordered table-hover table-checkable order-column table-custom">
          <thead>
          <tr>
            <th class="statusHeader"></th>
            <th>{{agents.defaultText.tableHeaders.agentName}}</th>
            <th class="custom-datatable-btns">{{agents.defaultText.tableHeaders.path}}</th>
            <th>{{agents.defaultText.tableHeaders.os}}</th>
            <th>{{agents.defaultText.tableHeaders.ip}}</th>
            <th>{{agents.defaultText.tableHeaders.status}}</th>
            <th>{{agents.defaultText.tableHeaders.freeSpace}}</th>
            <th>{{agents.defaultText.tableHeaders.resources}}</th>
            <th class="custom-datatable-btns">{{agents.defaultText.tableHeaders.action}}</th>


          </tr>
          </thead>
          <tbody>

          <tr ng-repeat="agent in agents.currentAgents" ng-show="agent.OS!='string'">
            <td class="statusLabel" ng-class="{'labelEnabled' : agent.isEnabled && !agent.isRunning && agent.isConnected, 'labelDisabled' : !agent.isEnabled && agent.isConnected, 'labelRunning' : agent.isRunning && agent.isConnected, 'labelDisconnected' : !agent.isConnected}"></td>
            <td>{{agent.hostName + "-" +  agent.id.substr(0,8)}}</td>
            <td class="custom-datatable-btns">{{agent.rootPath}}</td>
            <td>{{agent.operatingSystem}}</td>
            <td>{{agent.ipAddress}}</td>
            <td>{{agent.status}}</td>
            <td>{{agent.freeSpace}}</td>
            <td>{{agent.resources}}</td>
            <td class="custom-datatable-btns">

              <button class="btn btn-danger" data-target="#removeAgent" data-toggle="modal" ng-click="agents.setAgentToDelete(agent)">{{agents.status.delete}}
              </button>
              <button ng-click="agents.setAgentToAddResource(agent)" class="btn btn-info"  data-target="#addResourceAgent" data-toggle="modal"
              >{{agents.status.resource}}
              </button>
              <button ng-click="agents.changeAgentStatus(agent)" class="btn btn-default"
                       ng-if="agent.isEnabled == false" ng-show="agent.isConnected != false">{{agents.status.enable}}
              </button>
              <button class="btn default"
                      ng-if="agent.isConnected == false" ng-class="{'disabled' : agent.isConnected == false}">Disconnected
              </button>
              <button ng-click="agents.changeAgentStatus(agent)" class="btn default"
                      ng-if="agent.isEnabled == true" ng-show="agent.isConnected != false">{{agents.status.disable}}
              </button>
            </td>


          </tr>

          </tbody>
        </table>
      </div>
    </div>

  </div>
</div>

<div ng-include src="'app/agents/views/_removeAgent.html'"></div>
<div ng-include src="'app/agents/views/_addResources.html'"></div>
